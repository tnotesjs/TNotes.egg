# [0012. æ’ä»¶çš„å¯ç”¨](https://github.com/Tdahuyou/TNotes.egg/tree/main/notes/0012.%20%E6%8F%92%E4%BB%B6%E7%9A%84%E5%90%AF%E7%94%A8)

<!-- region:toc -->

- [1. ğŸ“’ æ’ä»¶çš„å¯ç”¨è¯´æ˜](#1--æ’ä»¶çš„å¯ç”¨è¯´æ˜)

<!-- endregion:toc -->

## 1. ğŸ“’ æ’ä»¶çš„å¯ç”¨è¯´æ˜

- ä¸€ä¸ªæ’ä»¶æ˜¯å¦å¯ç”¨ï¼Œéœ€è¦åˆ†ä¸åŒçš„æƒ…å†µæ¥çœ‹ï¼š
  - å¦‚æœæ˜¯å†…ç½®æ’ä»¶ï¼Œ å¤§éƒ¨åˆ†éƒ½æ˜¯é»˜è®¤å¯ç”¨çš„ï¼Œæ¯”å¦‚é™æ€èµ„æºæœåŠ¡æ’ä»¶ `egg-static`ã€‚
  - å¦‚æœæ˜¯æ‰‹åŠ¨å®‰è£…çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å¯ç”¨çš„ï¼Œéœ€è¦åœ¨ `config/plugin.js` ä¸­è¿›è¡Œé…ç½®ï¼Œå¯ç”¨æ’ä»¶ï¼Œæ¯”å¦‚æ¨¡æ¿å¼•æ“æ’ä»¶ `egg-view-nunjucks`ã€`egg-view-ejs`ã€‚
- **`config/plugin.js` é…ç½®çš„åŸºæœ¬æ ¼å¼**

::: code-group

```js [å†™æ³• 1 - package]
module.exports = {
  <æ’ä»¶åç§°>: {
    enable: <æ˜¯å¦å¯ç”¨>,
    package: <æ’ä»¶åœ¨node_modulesä¸­çš„åŒ…å>,
  }
}
```

```js [å†™æ³• 2 - path]
module.exports = {
  <æ’ä»¶åç§°>: {
    enable: <æ˜¯å¦å¯ç”¨>,
    path: <æ’ä»¶çš„ç»å¯¹è·¯å¾„>,
  }
}
```

:::

- `package` æ˜¯ `npm` æ–¹å¼å¼•å…¥ï¼Œä¹Ÿæ˜¯æœ€å¸¸è§çš„å¼•å…¥æ–¹å¼ã€‚
- `path` æ˜¯ç»å¯¹è·¯å¾„å¼•å…¥ï¼Œä¾‹å¦‚åº”ç”¨å†…éƒ¨æå–äº†ä¸€ä¸ªæ’ä»¶ï¼Œä½†å°šæœªå‘å¸ƒè‡³ npmï¼›æˆ–è€…æ˜¯åº”ç”¨è‡ªè¡Œæ”¹å†™äº†æ¡†æ¶çš„æŸäº›æ’ä»¶ã€‚

::: warning âš ï¸ æ’ä»¶é…ç½®
- ä¸è¦æŠŠæ’ä»¶é…ç½®å†™è¿™é‡Œè¾¹å„¿ï¼Œè¿™é‡Œä»…ä»…æ˜¯é€šè¿‡é…ç½®ï¼š
  - `package`ã€`path` å†³å®šè¦ç”¨ä»€ä¹ˆæ’ä»¶
  - `enable` å†³å®šæ˜¯å¦å¯ç”¨æ’ä»¶
- å¯¹äºæ’ä»¶çš„é…ç½®éœ€è¦åœ¨ `config/config.default.js` ä¸­å®Œæˆã€‚
:::

- **ç¤ºä¾‹ - é…ç½® `egg-static` çš„å¯ç”¨å’Œç¦ç”¨**

::: code-group

```js [å†™æ³• 1]
module.exports = {
  static: {
    enable: true,
    package: 'egg-static',
  },
}
```

```js [å†™æ³• 2]
exports.static = {
  enable: true,
  package: 'egg-static',
}
```

```js [å†™æ³• 3]
// å¯¹äºå†…ç½®æ’ä»¶ï¼Œå¯é‡‡ç”¨ä»¥ä¸‹ç®€æ´æ–¹å¼å¼€å¯æˆ–å…³é—­ã€‚
exports.static = true
```

:::

- å¯¹äº `egg-static` æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¸Šè¿°çš„é…ç½®å¯ç”¨ã€ç¦ç”¨å®ƒã€‚
  - ç¦ç”¨çš„è¯ï¼Œå°† `enable` è®¾ç½®ä¸º `false` å³å¯ã€‚
- å†™æ³• 3 æ˜¯é’ˆå¯¹å†…ç½®æ’ä»¶çš„è¯­æ³•ç³–ã€‚
